{"remainingRequest":"/Applications/MAMP/htdocs/vue-app/node_modules/babel-loader/lib/index.js!/Applications/MAMP/htdocs/vue-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Applications/MAMP/htdocs/vue-app/src/components/detalis.vue?vue&type=script&lang=js","dependencies":[{"path":"/Applications/MAMP/htdocs/vue-app/src/components/detalis.vue","mtime":1573217965000},{"path":"/Applications/MAMP/htdocs/vue-app/node_modules/cache-loader/dist/cjs.js","mtime":1534853416000},{"path":"/Applications/MAMP/htdocs/vue-app/node_modules/babel-loader/lib/index.js","mtime":1529635966000},{"path":"/Applications/MAMP/htdocs/vue-app/node_modules/vue-loader/lib/index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Toast } from 'mint-ui';\nexport default {\n  data: function data() {\n    return {\n      lid: this.$route.query.pid,\n      pics: [],\n      product: {\n        price: 0,\n        title: \"\"\n      },\n      specs: []\n    };\n  },\n  created: function created() {\n    this.getDetalis();\n  },\n  methods: {\n    getDetalis: function getDetalis() {\n      var _this = this;\n\n      this.axios.get(\"http://127.0.0.1:3000/detalis?lid=\" + this.lid).then(function (res) {\n        console.log(res.data);\n        _this.pics = res.data.pics;\n        _this.product = res.data.product;\n        _this.specs = res.data.specs;\n      });\n    },\n    addCart: function addCart() {\n      var _this2 = this;\n\n      //1:参数 pid count uid price\n      var pid = this.lid,\n          price = this.product.price;\n      this.axios.get(\"http://127.0.0.1:3000/addcart?pid=\".concat(pid, \"&price=\").concat(price)).then(function (res) {\n        if (res.data.code == 1) {\n          Toast(\"添加成功\");\n\n          _this2.$store.commit(\"increment\");\n        }\n\n        if (res.data.code == 2) {\n          Toast(\"添加成功\");\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["detalis.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA,SAAA,KAAA,QAAA,SAAA;AACA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,WAAA,KAAA,MAAA,CAAA,KAAA,CAAA,GADA;AAEA,YAAA,EAFA;AAGA,eAAA;AACA,eAAA,CADA;AAEA,eAAA;AAFA,OAHA;AAOA,aAAA;AAPA,KAAA;AASA,GAXA;AAYA,SAZA,qBAYA;AACA,SAAA,UAAA;AACA,GAdA;AAeA,WAAA;AACA,cADA,wBACA;AAAA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,uCAAA,KAAA,GAAA,EAAA,IAAA,CAAA,eAAA;AACA,gBAAA,GAAA,CAAA,IAAA,IAAA;AACA,cAAA,IAAA,GAAA,IAAA,IAAA,CAAA,IAAA;AACA,cAAA,OAAA,GAAA,IAAA,IAAA,CAAA,OAAA;AACA,cAAA,KAAA,GAAA,IAAA,IAAA,CAAA,KAAA;AACA,OALA;AAMA,KARA;AASA,WATA,qBASA;AAAA;;AACA;AACA,UAAA,MAAA,KAAA,GAAA;AAAA,UACA,QAAA,KAAA,OAAA,CAAA,KADA;AAEA,WAAA,KAAA,CAAA,GAAA,6CAAA,GAAA,oBAAA,KAAA,GAAA,IAAA,CAAA,eAAA;AACA,YAAA,IAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,gBAAA,MAAA;;AACA,iBAAA,MAAA,CAAA,MAAA,CAAA,WAAA;AACA;;AACA,YAAA,IAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,gBAAA,MAAA;AACA;AACA,OARA;AASA;AAtBA;AAfA,CAAA","sourcesContent":["<template>\n    <div class=\"app-details\">\n    \t<!-- 顶部导航 -->\n        <mt-header fixed>\n            <router-link to=\"/\" slot=\"left\">\n                <mt-button icon=\"back\">返回</mt-button>\n            </router-link>\n            <mt-button icon=\"more\" slot=\"right\"></mt-button>\n        </mt-header>   \n\n        <!-- 详情页轮播图 -->\n       \n        <mt-swipe class=\"product-banner\" :auto=\"0\">\n            <mt-swipe-item v-for=\"(item,i) of pics\" :key=\"i\">\n                <img :src=\"'http://127.0.0.1:3000/' + item.md\">\n            </mt-swipe-item>\n        </mt-swipe>\n        \n        \n        <div class=\"mui-card\">\n\t\t\t\t<div class=\"mui-card-header\">\n                    <div>\n                        销售价:\n                        <span class=\"price\">¥{{product.price.toFixed(2)}}</span>\n                    </div>\n                </div>\n\t\t\t\t<div class=\"mui-card-content\">\n\t\t\t\t\t<div class=\"mui-card-content-inner\">\n\t\t\t\t\t\t{{product.title}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"mui-card-footer\">{{product.subtitle}}</div>\n\t\t</div>\n\n        <div class=\"addCart\">\n            <router-link to=\"#\" class=\"Cart-icon\">\n                <i class=\"mui-icon mui-icon-chat\"></i>\n                <span>联系客服</span>\n            </router-link>\n            <router-link  to=\"#\" class=\"Cart-icon\">\n                <i class=\"mui-icon mui-icon-home\"></i>\n                <span>进店</span>\n            </router-link>\n            <router-link  to=\"/cart\" class=\"Cart-icon cart_box\">\n                <i class=\"mui-icon-extra mui-icon-extra-cart\"></i>\n                <span>购物车</span>\n                <span class=\"cart_count\">{{$store.getters.optCartCount}}</span>\n            </router-link>\n            <span class=\"addCart-btn\" @click=\"addCart\">加入购物车</span>\n            <span class=\"buy\">立即购买</span>\n        </div>\n    </div>    \n</template>\n\n<script>\nimport {Toast} from 'mint-ui';\nexport default {\n    data(){\n        return{\n            lid:this.$route.query.pid,\n            pics:[],\n            product:{\n                price:0,\n                title:\"\"\n            },\n            specs:[]\n        }\n    },\n    created(){\n        this.getDetalis();\n    },\n    methods:{\n        getDetalis(){\n            this.axios.get(\"http://127.0.0.1:3000/detalis?lid=\"+this.lid).then(res=>{\n                console.log(res.data);\n                this.pics = res.data.pics;\n                this.product = res.data.product;\n                this.specs = res.data.specs;\n            })\n        },\n        addCart(){\n            //1:参数 pid count uid price\n            var pid = this.lid,\n                price = this.product.price;\n                this.axios.get(`http://127.0.0.1:3000/addcart?pid=${pid}&price=${price}`).then(res=>{\n                    if(res.data.code==1){\n                        Toast(\"添加成功\");\n                        this.$store.commit(\"increment\");\n                    }\n                    if(res.data.code == 2){\n                        Toast(\"添加成功\");\n                    }\n                })\n        }\n    }\n}\n</script>\n\n<style scoped>\n.product-banner{\n    height: 380px;\n}\n.product-banner img{\n    width: 100%;\n}\n.mui-card{\n    margin: 0;\n}\n.mui-card .price{\n    font-size:22px;\n    font-weight: bold;\n    color: red;\n}\n.mui-card .mui-card-content-inner{\n    padding: 10px;\n    font-size: 18px;\n}\n.mui-card .mui-card-footer{\n    padding: 5px;\n}\n.addCart{\n    width: 100%;\n    height: 51px;\n    background-color: #fff;\n    position: fixed;\n    bottom: 0;\n    z-index: 100;\n    display: flex;\n    justify-content: left;\n    padding: 0 0 0 5px;\n}\n.addCart .Cart-icon{\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    color: rgb(160, 160, 160);\n    font-size: 14px;\n    text-align: center;\n    margin-right: 21px;\n}\n.addCart span.addCart-btn{\n    width: 90px;\n    height: 51px;\n    text-align: center;\n    line-height: 51px;\n    color: #fff;\n    font-size: 16px;\n    background-color: rgb(252, 99, 4);\n}\n.addCart span.buy{\n    width: 91px;\n    height: 51px;\n    color: #fff;\n    font-size: 16px;\n    text-align: center;\n    line-height: 51px;\n    background-color: #26a2ff;\n}\n.cart_box{\n    position: relative;\n}\n.cart_count{\n    position: absolute;\n    background-color: red;\n    color: #fff;\n    width: 24px;\n    height: 24px;\n    border-radius: 50%;\n    text-align: center;\n    line-height: 24px;\n    left: 20px;\n    top: 2px;\n}\n</style>\n\n\n"],"sourceRoot":"src/components"}]}